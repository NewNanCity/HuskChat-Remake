# HuskChat Remake

> ğŸ‰ **HuskChat Remake** ğŸ‰ - è¿™æ˜¯å¯¹åŸç‰ˆHuskChatæ’ä»¶çš„é‡åˆ¶å’Œæ”¹è¿›ç‰ˆæœ¬ï¼Œç”±æ–°çš„ç»´æŠ¤å›¢é˜Ÿç»§ç»­å¼€å‘å’Œç»´æŠ¤ã€‚æˆ‘ä»¬è‡´åŠ›äºä¸ºMinecraftæœåŠ¡å™¨æä¾›æ›´å¥½çš„èŠå¤©ä½“éªŒã€‚

**[English Documentation](README.md)**

## è‡´è°¢åŸä½œè€…

æˆ‘ä»¬è¦ç‰¹åˆ«æ„Ÿè°¢ [William278](https://william278.net/) åˆ›å»ºäº†åŸç‰ˆçš„HuskChatæ’ä»¶ã€‚è¿™ä¸ªé‡åˆ¶ç‰ˆæœ¬åŸºäºä»–çš„ä¼˜ç§€å·¥ä½œï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œäº†ç°ä»£åŒ–æ”¹è¿›å’ŒåŠŸèƒ½æ‰©å±•ã€‚

- åŸç‰ˆHuskChat: [GitHub](https://github.com/NewNanCity/HuskChat-Remake)
- åŸä½œè€…: William278

<!--suppress ALL -->
<p align="center">
    <img src="images/banner.png" alt="HuskChat" />
    <a href="https://github.com/NewNanCity/HuskChat-Remake/actions/workflows/ci.yml">
        <img src="https://img.shields.io/github/actions/workflow/status/NewNanCity/HuskChat-Remake/ci.yml?branch=master&logo=github"/>
    </a>
    <a href="https://repo.william278.net/#/releases/net/william278/huskchat/">
        <img src="https://repo.william278.net/api/badge/latest/releases/net/william278/huskchat?color=00fb9a&name=Maven&prefix=v" />
    </a>
    <a href="https://discord.gg/tVYhJfyDWG">
        <img src="https://img.shields.io/discord/818135932103557162.svg?label=&logo=discord&logoColor=fff&color=7389D8&labelColor=6A7EC2" />
    </a>
    <br/>
    <b>
        <a href="https://www.spigotmc.org/resources/huskchat.94496/">Spigot</a>
    </b> â€”
    <b>
        <a href="https://william278.net/docs/huskchat/setup">Setup</a>
    </b> â€”
    <b>
        <a href="https://william278.net/docs/huskchat/">Docs</a>
    </b> â€”
    <b>
        <a href="https://github.com/NewNanCity/HuskChat-Remake/issues">Issues</a>
    </b>
</p>
<br/>

**HuskChat Remake** æ˜¯ä¸€ä¸ªç®€æ´ã€å¯å®šåˆ¶çš„Minecraftç½‘ç»œèŠå¤©ç³»ç»Ÿã€‚å®ƒæ”¯æŒåœ¨BungeeCordå’ŒVelocityå‰ç«¯æœåŠ¡å™¨ä¸Šè¿è¡Œä»¥å®ç°è·¨æœåŠ¡å™¨èŠå¤©ï¼Œä¹Ÿå¯ä»¥åœ¨å•æœåŠ¡å™¨Spigotè®¾ç½®ä¸Šè¿è¡Œã€‚

å®ƒè®¾è®¡ä¸ºæ˜“äºé…ç½®ï¼Œå…·æœ‰ä¼˜é›…çš„å¼€ç®±å³ç”¨è®¾ç½®ï¼ŒåŒæ—¶ä¹Ÿé«˜åº¦å¯é…ç½®ï¼Œé€šè¿‡å…è®¸æ‚¨å®šä¹‰é¢‘é“å¹¶ç®¡ç†è°å¯ä»¥åœ¨å…¶ä¸­å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ¥é€‚åº”å„ç§ç”¨ä¾‹ã€‚

## æ–°åŠŸèƒ½å’Œæ”¹è¿›

**ğŸš€ æ‰©å±•çš„äº‹ä»¶ç³»ç»Ÿ** &mdash; ä¸ºæ‰€æœ‰èŠå¤©ç±»å‹æä¾›å®Œæ•´çš„äº‹ä»¶APIï¼Œæ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶é›†æˆ

**ğŸš€ å¢å¼ºçš„APIæ¥å£** &mdash; æä¾›ç»Ÿä¸€çš„æ¶ˆæ¯å‘é€ã€é¢‘é“ç®¡ç†å’Œç”¨æˆ·ç®¡ç†API

**ğŸš€ ç©å®¶çŠ¶æ€é›†æˆ** &mdash; ç”Ÿå‘½å€¼ã€ä½ç½®ã€æˆ˜æ–—çŠ¶æ€ç­‰Minecraftç‰¹å®šæ•°æ®é›†æˆ

**ğŸš€ å‘½ä»¤æ‰§è¡ŒAPI** &mdash; ç¨‹åºåŒ–å‘½ä»¤æ‰§è¡Œï¼Œæ”¯æŒæƒé™éªŒè¯å’Œäº‹ä»¶å¤„ç†

**ğŸš€ ç°ä»£åŒ–æ¶æ„** &mdash; åŸºäºæœ€æ–°çš„MinecraftæœåŠ¡å™¨å¹³å°è¿›è¡Œä¼˜åŒ–

**ğŸš€ æ›´å¥½çš„å¯æ‰©å±•æ€§** &mdash; æ’ä»¶å¼è®¾è®¡ï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰©å±•å’Œé›†æˆ

## Features
**â­ å¼€ç®±å³ç”¨** &mdash; åœ¨æ‚¨çš„SpigotæœåŠ¡å™¨æˆ–Velocity/BungeeCordä»£ç†ä¸Šå®‰è£…å¹¶ç«‹å³ä½¿ç”¨

**â­ å ä½ç¬¦æ”¯æŒ** &mdash; ä¸LuckPermsé›†æˆæ˜¾ç¤ºç”¨æˆ·è§’è‰²ï¼Œé€šè¿‡[PAPIProxyBridge](https://william278.net/docs/huskchat/formatting)æ”¯æŒPAPI

**â­ ç§èŠåŠŸèƒ½** &mdash; ç§èŠæ¶ˆæ¯ï¼ˆåŒ…æ‹¬ç¾¤èŠï¼‰å’Œå›å¤ï¼Œç®¡ç†å‘˜é—´è°åŠŸèƒ½

**â­ ç²¾ç»†é¢‘é“è°ƒèŠ‚** &mdash; ä¸ºé¢‘é“è®¾ç½®å‘é€/æ¥æ”¶æƒé™ï¼Œå‘é€æ¶ˆæ¯åˆ°Discord webhookï¼Œè¿‡æ»¤å™¨[ç­‰æ›´å¤šåŠŸèƒ½](https://william278.net/docs/huskchat/channels)ï¼

**â­ å¿«é€Ÿæ˜“ç”¨** &mdash; è¶…çº§ç®€å•çš„[å‘½ä»¤](https://william278.net/docs/huskchat/commands)é›†ã€‚ä¹Ÿå¯ä»¥å®šä¹‰é¢‘é“å¿«æ·å‘½ä»¤ï¼

**â­ é«˜çº§è„è¯æ£€æŸ¥** &mdash; æœºå™¨å­¦ä¹ é©±åŠ¨çš„è„è¯è¿‡æ»¤å™¨

**â­ è¿‡æ»¤å™¨å’Œæ›¿æ¢å™¨** &mdash; å¯å®šåˆ¶çš„åƒåœ¾ä¿¡æ¯é™åˆ¶è¿‡æ»¤å™¨ã€åå¹¿å‘Šå’Œç‰¹æ®Šè¡¨æƒ…ç¬¦å·

**â­ ç°ä»£æ ¼å¼åŒ–** &mdash; é€šè¿‡[MineDown](https://github.com/Phoenix616/MineDown)åˆ©ç”¨ç°ä»£æ ¼å¼åŒ–ï¼Œæ”¯æŒRGBå’Œæ¸å˜

## æ”¯æŒçš„èŠå¤©ç±»å‹

HuskChat Remake æ”¯æŒå¤šç§èŠå¤©ç±»å‹ï¼Œæ¯ç§éƒ½æœ‰å¯¹åº”çš„äº‹ä»¶å’ŒAPIï¼š

### ğŸ“¢ é¢‘é“èŠå¤© (Channel Chat)
- **å…¨å±€é¢‘é“** - è·¨æœåŠ¡å™¨èŠå¤©
- **æœ¬åœ°é¢‘é“** - åŒæœåŠ¡å™¨ç©å®¶èŠå¤©
- **å‘˜å·¥é¢‘é“** - ç®¡ç†å‘˜ä¸“ç”¨é¢‘é“
- **è‡ªå®šä¹‰é¢‘é“** - å®Œå…¨å¯é…ç½®çš„é¢‘é“ç³»ç»Ÿ

### ğŸ’¬ ç§èŠç³»ç»Ÿ (Private Messages)
- **å•äººç§èŠ** - ä¸€å¯¹ä¸€ç§å¯†èŠå¤©
- **ç¾¤ç»„ç§èŠ** - å¤šäººç¾¤èŠåŠŸèƒ½
- **å›å¤åŠŸèƒ½** - å¿«é€Ÿå›å¤æœ€åæ”¶åˆ°çš„æ¶ˆæ¯

### ğŸ“£ å¹¿æ’­æ¶ˆæ¯ (Broadcast Messages)
- **æœåŠ¡å™¨å¹¿æ’­** - å…¨æœåŠ¡å™¨å…¬å‘Š
- **ç®¡ç†å‘˜é€šçŸ¥** - ç®¡ç†å‘˜ä¸“ç”¨å¹¿æ’­

### ğŸ”— ç‰¹æ®Šæ¶ˆæ¯
- **åŠ å…¥/é€€å‡ºæ¶ˆæ¯** - ç©å®¶è¿›å‡ºæœåŠ¡å™¨æç¤º
- **Discordé›†æˆ** - ä¸Discordé¢‘é“åŒæ­¥
- **ç¤¾äº¤é—´è°** - ç®¡ç†å‘˜ç›‘æ§ç§èŠåŠŸèƒ½

## å¼€å‘è€…API

HuskChat Remake æä¾›äº†å®Œæ•´çš„APIä¾›å…¶ä»–æ’ä»¶ä½¿ç”¨ï¼š

### ğŸ¯ äº‹ä»¶ç³»ç»Ÿ
```java
// ç›‘å¬èŠå¤©æ¶ˆæ¯
api.registerChatMessageListener(event -> {
    if (event.getMessage().contains("ç¦è¯")) {
        event.setCancelled(true);
    }
});

// ç›‘å¬ç©å®¶ç”Ÿå‘½å€¼å˜åŒ–
api.registerPlayerHealthChangeListener(event -> {
    if (event.isLowHealth()) {
        event.getPlayer().sendMessage("è­¦å‘Šï¼šç”Ÿå‘½å€¼è¿‡ä½ï¼");
    }
});

// ç›‘å¬é¢‘é“åˆ‡æ¢
api.registerChannelSwitchListener(event -> {
    player.sendMessage("æ¬¢è¿æ¥åˆ° " + event.getNewChannelId() + " é¢‘é“ï¼");
});
```

### ğŸ› ï¸ é¢‘é“ç®¡ç†API
```java
// åˆ‡æ¢ç©å®¶é¢‘é“
api.switchPlayerChannel(player, "staff", SwitchReason.API_CALL);

// è·å–é¢‘é“ä¸­çš„ç©å®¶
List<OnlineUser> players = api.getPlayersInChannel("global");
```

### ğŸ“¨ æ¶ˆæ¯å‘é€API
```java
// å‘é€ç§èŠæ¶ˆæ¯
api.sendPrivateMessage(sender, List.of("PlayerName"), "Hello!");

// å‘é€é¢‘é“æ¶ˆæ¯
api.sendChannelMessage("global", "ç³»ç»Ÿå…¬å‘Š", null);
```

### ğŸ® ç©å®¶çŠ¶æ€é›†æˆ
```java
// è·å–ç©å®¶ä¿¡æ¯
PlayerInfo info = api.getPlayerInfo(player);
boolean isLowHealth = info.isLowHealth();
boolean isInCombat = info.isInCombat();

// ç¨‹åºåŒ–æ‰§è¡Œå‘½ä»¤
api.executeChatCommand(player, "/channel", "staff");

// æ£€æŸ¥èŠå¤©æ¡ä»¶
ChatConditionResult result = api.checkChatConditions(player, "global");
if (!result.isAllowed()) {
    player.sendMessage("æ— æ³•èŠå¤©: " + result.getReason());
}
```

## æ„å»º
è¦æ„å»ºHuskChatï¼Œæ‚¨éœ€è¦å®‰è£…pythonï¼ˆ>=`v3.6`ï¼‰åŠç›¸å…³åŒ…ï¼š`jep`å’Œ`alt-profanity-check`ã€‚
æ‚¨å¯ä»¥ä½¿ç”¨`pip install jep`å’Œ`pip install alt-profanity-check`æ¥å®‰è£…è¿™äº›åŒ…ã€‚è¿™äº›æ˜¯è¿è¡Œè„è¯è¿‡æ»¤å™¨æµ‹è¯•æ‰€å¿…éœ€çš„ã€‚

ç„¶åï¼Œåªéœ€åœ¨ä»“åº“æ ¹ç›®å½•è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```
./gradlew clean build
```

## License
HuskChatåœ¨Apache 2.0è®¸å¯è¯ä¸‹æˆæƒã€‚

- [License](https://github.com/NewNanCity/HuskChat-Remake/blob/master/LICENSE)

## ç¿»è¯‘
æ¬¢è¿æ’ä»¶æœ¬åœ°åŒ–çš„ç¿»è¯‘ï¼Œä»¥å¸®åŠ©ä½¿æ’ä»¶æ›´æ˜“äºè®¿é—®ã€‚è¯·æäº¤åŒ…å«æ‚¨çš„ç¿»è¯‘çš„`.yml`æ–‡ä»¶çš„æ‹‰å–è¯·æ±‚ã€‚

- [æœ¬åœ°åŒ–ç›®å½•](https://github.com/NewNanCity/HuskChat-Remake/tree/master/common/src/main/resources/locales)
- [è‹±æ–‡æœ¬åœ°åŒ–](https://github.com/NewNanCity/HuskChat-Remake/tree/master/common/src/main/resources/locales/en-gb.yml)

## æ–‡æ¡£é“¾æ¥

### ğŸ“š å¼€å‘æ–‡æ¡£
- [API å¼€å‘æŒ‡å—](docs/zh/API-Guide.md) &mdash; å­¦ä¹ å¦‚ä½•ä½¿ç”¨HuskChat API
- [äº‹ä»¶ç³»ç»Ÿæ–‡æ¡£](docs/zh/Events.md) &mdash; è¯¦ç»†çš„äº‹ä»¶ç³»ç»Ÿè¯´æ˜
- [å¼€å‘è€…æŒ‡å—](docs/zh/Developer-Guide.md) &mdash; è´¡çŒ®ä»£ç å’Œæ‰©å±•åŠŸèƒ½
- [ç¤ºä¾‹æ’ä»¶](docs/zh/Example-Plugin.md) &mdash; å®Œæ•´çš„APIä½¿ç”¨ç¤ºä¾‹
- [é¢‘é“é…ç½®](docs/zh/Channels.md) &mdash; é¢‘é“é…ç½®æŒ‡å—
- [å‘½ä»¤å‚è€ƒ](docs/zh/Commands.md) &mdash; æ‰€æœ‰å‘½ä»¤çš„è¯¦ç»†è¯´æ˜

### ğŸ”— åŸç‰ˆé“¾æ¥
- [åŸç‰ˆæ–‡æ¡£](https://william278.net/docs/huskchat/) &mdash; åŸç‰ˆæ’ä»¶æ–‡æ¡£
- [åŸç‰ˆSpigoté¡µé¢](https://www.spigotmc.org/resources/huskchat.94496/) &mdash; åŸç‰ˆèµ„æºé¡µé¢
- [åŸç‰ˆGitHub](https://github.com/WiIIiam278/HuskChat) &mdash; åŸç‰ˆæºä»£ç 

### ğŸ†˜ è·å–å¸®åŠ©
- [Issues](https://github.com/Gk0Wk/HuskChat-Remake/issues) &mdash; æŠ¥å‘Šé—®é¢˜æˆ–è¯·æ±‚åŠŸèƒ½
- [Discussions](https://github.com/Gk0Wk/HuskChat-Remake/discussions) &mdash; è®¨è®ºå’Œé—®ç­”

---
&copy; [William278](https://william278.net/), 2024. Licensed under the Apache-2.0 License.
